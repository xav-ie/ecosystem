diff --git a/dist/child-process.d.ts b/dist/child-process.d.ts
index 62fb9e89a92f380754d994c95a82c87157772212..4b1771c5b63d5f5b1227030a916a6c8228d173d1 100644
--- a/dist/child-process.d.ts
+++ b/dist/child-process.d.ts
@@ -1,4 +1,4 @@
-import type { Options as ExecaOptions, SyncOptions as ExacaSyncOptions, ExecaChildProcess } from 'execa';
+import type { Options as ExecaOptions, SyncOptions as ExacaSyncOptions } from 'execa';
 import type { Package } from './package.js';
 export declare function exec(command: string, args: string[], opts?: ExecaOptions & {
     pkg?: Package;
@@ -15,7 +15,5 @@ export declare function getExitCode(result: any): any;
 export declare function spawnProcess(command: string, args: string[], opts: ExecaOptions & {
     pkg?: Package;
 }, dryRun?: boolean): any;
-export declare function wrapError(spawned: ExecaChildProcess & {
-    pkg?: Package;
-}): Promise<import("execa").ExecaReturnValue<string>>;
+export declare function wrapError(spawned: any): any;
 export declare function logExecCommand(command: string, args?: string[]): string;
diff --git a/dist/child-process.js.map b/dist/child-process.js.map
index 3c8da33706990a7b325ff6f54bfd643b6e78f480..565475c600936c0f66eaef73241d732ebf0e7331 100644
--- a/dist/child-process.js.map
+++ b/dist/child-process.js.map
@@ -1 +1 @@
-{"version":3,"file":"child-process.js","sourceRoot":"","sources":["../src/child-process.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"child-process.js","sourceRoot":"","sources":["../src/child-process.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/package-graph/package-graph.d.ts b/dist/package-graph/package-graph.d.ts
index a8ea7b2e7d7f931ef12c4130d4cfa4fcd3e72a09..d45c397b845dec73ae867a5f51cf9ec37ee0d8b2 100644
--- a/dist/package-graph/package-graph.d.ts
+++ b/dist/package-graph/package-graph.d.ts
@@ -3,6 +3,7 @@ import { PackageGraphNode } from './lib/package-graph-node.js';
 import type { Package } from '../package.js';
 export declare const YARN_PATCH_PROTOCOL_REG_EXP: RegExp;
 export declare class PackageGraph extends Map<string, PackageGraphNode> {
+    hasWorkspaceCatalog: boolean;
     constructor(packages: Package[], graphType?: 'allDependencies' | 'dependencies', localDependencies?: boolean | 'auto' | 'force' | 'explicit' | 'forceLocal');
     get rawPackageList(): Package[];
     addDependencies(filteredPackages: Package[]): Package[];
diff --git a/dist/package-graph/package-graph.js b/dist/package-graph/package-graph.js
index ea94948375c4959aa996758b3f3d903ba2eb78f8..1501e944d923bae51d045fd7d644a2630748473a 100644
--- a/dist/package-graph/package-graph.js
+++ b/dist/package-graph/package-graph.js
@@ -1,6 +1,6 @@
 import { log } from '@lerna-lite/npmlog';
-import fs from 'node:fs';
-import path from 'node:path';
+import { existsSync, readFileSync } from 'node:fs';
+import { join } from 'node:path';
 import npa from 'npm-package-arg';
 import { parse } from 'yaml';
 import { CyclicPackageGraphNode } from './lib/cyclic-package-graph-node.js';
@@ -14,6 +14,7 @@ export class PackageGraph extends Map {
             localDependencies = 'force';
         }
         super(packages.map((pkg) => [pkg?.name ?? '', new PackageGraphNode(pkg)]));
+        this.hasWorkspaceCatalog = false;
         if (packages.length !== this.size) {
             const seen = new Map();
             for (const { name, location } of packages) {
@@ -31,6 +32,9 @@ export class PackageGraph extends Map {
             }
         }
         const { catalog, catalogs } = this.readWorkspaceCatalogConfig();
+        if (Object.keys(catalog).length > 0 || Object.keys(catalogs).length > 0) {
+            this.hasWorkspaceCatalog = true;
+        }
         this.forEach((currentNode, currentName) => {
             const graphDependencies = graphType === 'dependencies'
                 ? Object.assign({}, currentNode.pkg.optionalDependencies, currentNode.pkg.dependencies)
@@ -96,9 +100,9 @@ export class PackageGraph extends Map {
         return this.extendList(filteredPackages, 'localDependents');
     }
     readWorkspaceCatalogConfig() {
-        const workspaceConfigPath = path.join(process.cwd(), 'pnpm-workspace.yaml');
-        const { catalog = {}, catalogs = {} } = fs.existsSync(workspaceConfigPath)
-            ? parse(fs.readFileSync(workspaceConfigPath, 'utf8'))
+        const workspaceConfigPath = join(process.cwd(), 'pnpm-workspace.yaml');
+        const { catalog = {}, catalogs = {} } = existsSync(workspaceConfigPath)
+            ? parse(readFileSync(workspaceConfigPath, 'utf8'))
             : {};
         return {
             catalog,
diff --git a/dist/package-graph/package-graph.js.map b/dist/package-graph/package-graph.js.map
index 8703090180f1b47fdac004b9e09fef44aa5285b8..4d6df1b9b82c4788667dcb628d060aae1c673569 100644
--- a/dist/package-graph/package-graph.js.map
+++ b/dist/package-graph/package-graph.js.map
@@ -1 +1 @@
-{"version":3,"file":"package-graph.js","sourceRoot":"","sources":["../../src/package-graph/package-graph.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"package-graph.js","sourceRoot":"","sources":["../../src/package-graph/package-graph.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/package.js b/dist/package.js
index 2d8111ae6a3989c393b05dfbbd1fc098b1fef887..d15792e4d3ef98530e084db1130507c56fc97f31 100644
--- a/dist/package.js
+++ b/dist/package.js
@@ -44,8 +44,8 @@ export class Package {
         this.isBumpOnlyVersion = false;
         this.licensePath = '';
         this.localDependencies = new Map();
-        const resolved = npa.resolve(pkg?.name ?? '', `file:${relative(rootPath, location)}`, rootPath);
-        this.name = pkg?.name ?? '';
+        const resolved = npa.resolve(pkg.name ?? '', `file:${relative(rootPath, location)}`, rootPath);
+        this.name = pkg.name ?? '';
         this[PKG] = pkg;
         Object.defineProperty(this, PKG, { enumerable: false, writable: true });
         this[_location] = location;
@@ -149,7 +149,7 @@ export class Package {
     }
     removeDependencyWorkspaceProtocolPrefix(pkgName, resolved) {
         const depName = resolved.name;
-        const workspaceSpec = resolved?.workspaceSpec ?? '';
+        const workspaceSpec = resolved.workspaceSpec ?? '';
         const inspectDependencies = this.retrieveAllDependenciesWithName(depName, [
             'dependencies',
             'devDependencies',
@@ -206,8 +206,8 @@ export class Package {
             if (depCollection && (resolved.registry || resolved.type === 'directory')) {
                 depCollection[depName] = `${savePrefix}${depVersion}`;
                 if (resolved.workspaceSpec) {
-                    const workspaceSpec = resolved?.workspaceSpec ?? '';
-                    const [_, _wsTxt, operatorPrefix, rangePrefix, semver] = workspaceSpec.match(/^(workspace:)?([<>=]{0,2})?([*|~|^])?(.*)$/) || [];
+                    const workspaceSpec = resolved.workspaceSpec ?? '';
+                    const [_, _wsTxt, operatorPrefix, rangePrefix, semver] = workspaceSpec.match(/^(workspace:)?([<>=]{0,2})?([*~^])?(.*)$/) || [];
                     if (operatorPrefix) {
                         depCollection[depName] = `${operatorPrefix}${rangePrefix || ''}${semver}`;
                     }
@@ -226,7 +226,7 @@ export class Package {
                         }
                     }
                     else {
-                        depCollection[depName] = /^workspace:[*|~|^]{1}$/.test(workspaceSpec)
+                        depCollection[depName] = /^workspace:[*~^]{1}$/.test(workspaceSpec)
                             ? resolved.workspaceSpec
                             : `workspace:${depCollection[depName]}`;
                     }
diff --git a/dist/package.js.map b/dist/package.js.map
index 17fc0b30eb56ec2263e166ec5fce137feda821a9..3186c6896b50f111f3bf7994010dc4b2dd7d73e4 100644
--- a/dist/package.js.map
+++ b/dist/package.js.map
@@ -1 +1 @@
-{"version":3,"file":"package.js","sourceRoot":"","sources":["../src/package.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"package.js","sourceRoot":"","sources":["../src/package.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/utils/collect-updates/collect-updates.js b/dist/utils/collect-updates/collect-updates.js
index afb3b9aa43dcc0a5ea021c95a0fb99b3b6ce4c17..84803734cfed291325e17b79a948a5b0cc6cd52f 100644
--- a/dist/utils/collect-updates/collect-updates.js
+++ b/dist/utils/collect-updates/collect-updates.js
@@ -3,7 +3,7 @@ import { describeRefSync } from '../describe-ref.js';
 import { collectPackages } from './lib/collect-packages.js';
 import { getPackagesForOption } from './lib/get-packages-for-option.js';
 import { hasTags } from './lib/has-tags.js';
-import { makeDiffPredicate } from './lib/make-diff-predicate.js';
+import { diffWorkspaceCatalog, makeDiffPredicate } from './lib/make-diff-predicate.js';
 export function collectUpdates(filteredPackages, packageGraph, execOpts, commandOptions) {
     const { forcePublish, forceConventionalGraduate, conventionalCommits, conventionalGraduate, excludeDependents, independentSubpackages, isIndependent, describeTag, tagVersionSeparator, } = commandOptions;
     const useConventionalGraduate = conventionalCommits && (conventionalGraduate || forceConventionalGraduate);
@@ -13,6 +13,7 @@ export function collectUpdates(filteredPackages, packageGraph, execOpts, command
         : new Map(filteredPackages.map(({ name }) => [name, packageGraph.get(name)]));
     let committish = commandOptions.since;
     const tagPattern = describeTag ? describeTag : isIndependent ? '*@*' : 'v*';
+    let prevTag = '';
     if (hasTags(execOpts, tagPattern)) {
         const describeOptions = {
             ...execOpts,
@@ -20,6 +21,7 @@ export function collectUpdates(filteredPackages, packageGraph, execOpts, command
             separator: tagVersionSeparator,
         };
         const { sha, refCount, lastTagName } = describeRefSync(describeOptions, commandOptions.includeMergedTags);
+        prevTag = lastTagName || '';
         if (refCount === '0' && forced.size === 0 && !committish) {
             log.notice('', 'Current HEAD is already released, skipping change detection.');
             return [];
@@ -50,7 +52,11 @@ export function collectUpdates(filteredPackages, packageGraph, execOpts, command
         });
     }
     log.info('', `Looking for changed packages since ${committish}`);
-    const hasDiff = makeDiffPredicate(committish, execOpts, commandOptions.ignoreChanges, {
+    const changedCatalogDeps = [];
+    if (prevTag && packageGraph.hasWorkspaceCatalog) {
+        changedCatalogDeps.push(...diffWorkspaceCatalog(prevTag));
+    }
+    const hasDiff = makeDiffPredicate(committish, execOpts, commandOptions.ignoreChanges, changedCatalogDeps, {
         independentSubpackages,
     });
     const needsBump = !commandOptions.bump || commandOptions.bump.startsWith('pre')
diff --git a/dist/utils/collect-updates/collect-updates.js.map b/dist/utils/collect-updates/collect-updates.js.map
index 16f914019e262e8b11cdad9ebeb1bb4a436397af..60ad53756103b083193fd32f7e648d1960cde738 100644
--- a/dist/utils/collect-updates/collect-updates.js.map
+++ b/dist/utils/collect-updates/collect-updates.js.map
@@ -1 +1 @@
-{"version":3,"file":"collect-updates.js","sourceRoot":"","sources":["../../../src/utils/collect-updates/collect-updates.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"collect-updates.js","sourceRoot":"","sources":["../../../src/utils/collect-updates/collect-updates.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/utils/collect-updates/lib/make-diff-predicate.d.ts b/dist/utils/collect-updates/lib/make-diff-predicate.d.ts
index 241e92d3c4737822fe4bcba25c894d9f6e91bf4f..8cbc0267fc2777ab6ec98493e656bc58652111cb 100644
--- a/dist/utils/collect-updates/lib/make-diff-predicate.d.ts
+++ b/dist/utils/collect-updates/lib/make-diff-predicate.d.ts
@@ -1,4 +1,6 @@
 import type { ExecOpts } from '../../../models/interfaces.js';
-export declare function makeDiffPredicate(committish: string, execOpts: ExecOpts, ignorePatterns: string[] | undefined, diffOpts: {
+import { type PackageGraphNode } from '../../../package-graph/lib/package-graph-node.js';
+export declare function makeDiffPredicate(committish: string, execOpts: ExecOpts, ignorePatterns: string[] | undefined, changedCatalogDeps: string[] | undefined, diffOpts: {
     independentSubpackages?: boolean;
-}): (node: any) => boolean;
+}): (node: PackageGraphNode) => boolean;
+export declare function diffWorkspaceCatalog(prevTag: string): string[];
diff --git a/dist/utils/collect-updates/lib/make-diff-predicate.js b/dist/utils/collect-updates/lib/make-diff-predicate.js
index edd63e6597d0b0865f93c3370a2275f739ab3b96..35f76434c499c47c9292a6929acae0fd3f6a57c1 100644
--- a/dist/utils/collect-updates/lib/make-diff-predicate.js
+++ b/dist/utils/collect-updates/lib/make-diff-predicate.js
@@ -1,10 +1,13 @@
 import { log } from '@lerna-lite/npmlog';
-import { globSync } from 'tinyglobby';
+import { join } from 'node:path';
 import { filter as minimatchFilter } from 'minimatch';
+import { readFileSync } from 'node:fs';
 import { dirname, relative } from 'node:path';
 import slash from 'slash';
+import { globSync } from 'tinyglobby';
+import { parse } from 'yaml';
 import { execSync } from '../../../child-process.js';
-export function makeDiffPredicate(committish, execOpts, ignorePatterns = [], diffOpts) {
+export function makeDiffPredicate(committish, execOpts, ignorePatterns = [], changedCatalogDeps = [], diffOpts) {
     const ignoreFilters = new Set(ignorePatterns.map((p) => minimatchFilter(`!${p}`, {
         matchBase: true,
         dot: true,
@@ -13,25 +16,33 @@ export function makeDiffPredicate(committish, execOpts, ignorePatterns = [], dif
         log.info('ignoring diff in paths matching', ignorePatterns.join(' '));
     }
     return function hasDiffSinceThatIsntIgnored(node) {
+        let hasDiff = true;
         const diff = diffSinceIn(committish, node.location, execOpts, diffOpts);
         if (diff === '') {
             log.silly('', 'no diff found in %s', node.name);
-            return false;
+            hasDiff = false;
         }
-        log.silly('found diff in', diff);
-        let changedFiles = diff.split('\n');
-        if (ignoreFilters.size) {
-            for (const ignored of ignoreFilters) {
-                changedFiles = changedFiles.filter(ignored);
+        if (hasDiff) {
+            log.silly('found diff in', diff);
+            let changedFiles = diff.split('\n');
+            if (ignoreFilters.size) {
+                for (const ignored of ignoreFilters) {
+                    changedFiles = changedFiles.filter(ignored);
+                }
+            }
+            hasDiff = changedFiles.length > 0;
+            if (hasDiff) {
+                log.verbose('filtered diff', changedFiles.join(' '));
+            }
+            else {
+                log.verbose('', 'no diff found in %s (after filtering)', node.name);
             }
         }
-        if (changedFiles.length) {
-            log.verbose('filtered diff', changedFiles.join(' '));
-        }
-        else {
-            log.verbose('', 'no diff found in %s (after filtering)', node.name);
+        if (!hasDiff && Array.from(node.externalDependencies).some(([depName]) => changedCatalogDeps.includes(depName))) {
+            log.silly('', 'diff found in catalog dependencies on package %s', node.name);
+            hasDiff = true;
         }
-        return changedFiles.length > 0;
+        return hasDiff;
     };
 }
 function diffSinceIn(committish, location, execOpts, diffOpts) {
@@ -51,4 +62,31 @@ function diffSinceIn(committish, location, execOpts, diffOpts) {
     log.silly('checking diff', formattedLocation);
     return execSync('git', args, execOpts);
 }
+export function diffWorkspaceCatalog(prevTag) {
+    const workspaceConfigPath = join(process.cwd(), 'pnpm-workspace.yaml');
+    const previousContents = execSync('git', ['show', `${prevTag}:pnpm-workspace.yaml`]);
+    const currentContents = readFileSync(workspaceConfigPath, 'utf8');
+    const previousConfig = parse(previousContents);
+    const currentConfig = parse(currentContents);
+    const changedDependencies = [];
+    Object.keys(currentConfig.catalog).forEach((key) => {
+        if (!previousConfig.catalog[key] || previousConfig.catalog[key] !== currentConfig.catalog[key]) {
+            changedDependencies.push(key);
+        }
+    });
+    const diffOutput = execSync('git', ['diff', `${prevTag}..HEAD`, '--', 'pnpm-workspace.yaml']);
+    const diffLines = diffOutput.split('\n');
+    const changedDependenciesFromDiff = [];
+    diffLines.forEach((line) => {
+        if (line.startsWith('+ catalog.') && line.includes(':')) {
+            const key = line.substring(11).split(':')[0].trim();
+            changedDependenciesFromDiff.push(key);
+        }
+        else if (line.startsWith('+   ') && line.includes(':')) {
+            const key = line.substring(5).split(':')[0].trim();
+            changedDependenciesFromDiff.push(key);
+        }
+    });
+    return changedDependencies;
+}
 //# sourceMappingURL=make-diff-predicate.js.map
\ No newline at end of file
diff --git a/dist/utils/collect-updates/lib/make-diff-predicate.js.map b/dist/utils/collect-updates/lib/make-diff-predicate.js.map
index 62b51265db8bcba4226aee6c92f4ffa8e6c191a4..05d465fcd6dde2a97eab4327aa8dd938ba7aff4c 100644
--- a/dist/utils/collect-updates/lib/make-diff-predicate.js.map
+++ b/dist/utils/collect-updates/lib/make-diff-predicate.js.map
@@ -1 +1 @@
-{"version":3,"file":"make-diff-predicate.js","sourceRoot":"","sources":["../../../../src/utils/collect-updates/lib/make-diff-predicate.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"make-diff-predicate.js","sourceRoot":"","sources":["../../../../src/utils/collect-updates/lib/make-diff-predicate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,oBAAoB,CAAC;AACzC,OAAO,EAAE,IAAI,EAAE,MAAM,WAAW,CAAC;AACjC,OAAO,EAAE,MAAM,IAAI,eAAe,EAAE,MAAM,WAAW,CAAC;AACtD,OAAO,EAAE,YAAY,EAAE,MAAM,SAAS,CAAC;AACvC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAC9C,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACtC,OAAO,EAAE,KAAK,EAAE,MAAM,MAAM,CAAC;AAE7B,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAC;AAYrD,MAAM,UAAU,iBAAiB,CAC/B,UAAkB,EAClB,QAAkB,EAClB,iBAA2B,EAAE,EAC7B,qBAA+B,EAAE,EACjC,QAA8C;IAE9C,MAAM,aAAa,GAAG,IAAI,GAAG,CAC3B,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CACvB,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE;QACvB,SAAS,EAAE,IAAI;QAEf,GAAG,EAAE,IAAI;KACV,CAAC,CACH,CACF,CAAC;IAEF,IAAI,aAAa,CAAC,IAAI,EAAE,CAAC;QACvB,GAAG,CAAC,IAAI,CAAC,iCAAiC,EAAE,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,OAAO,SAAS,2BAA2B,CAAC,IAAsB;QAChE,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,MAAM,IAAI,GAAG,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAExE,IAAI,IAAI,KAAK,EAAE,EAAE,CAAC;YAChB,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,qBAAqB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,OAAO,GAAG,KAAK,CAAC;QAClB,CAAC;QAED,IAAI,OAAO,EAAE,CAAC;YACZ,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YACjC,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAEpC,IAAI,aAAa,CAAC,IAAI,EAAE,CAAC;gBACvB,KAAK,MAAM,OAAO,IAAI,aAAa,EAAE,CAAC;oBACpC,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC9C,CAAC;YACH,CAAC;YAED,OAAO,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;YAElC,IAAI,OAAO,EAAE,CAAC;gBACZ,GAAG,CAAC,OAAO,CAAC,eAAe,EAAE,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACvD,CAAC;iBAAM,CAAC;gBACN,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,uCAAuC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACtE,CAAC;QACH,CAAC;QAGD,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;YAChH,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,kDAAkD,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7E,OAAO,GAAG,IAAI,CAAC;QACjB,CAAC;QAED,OAAO,OAAO,CAAC;IACjB,CAAC,CAAC;AACJ,CAAC;AAOD,SAAS,WAAW,CAAC,UAAkB,EAAE,QAAgB,EAAE,QAAkB,EAAE,QAA8C;IAC3H,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE,aAAa,EAAE,UAAU,CAAC,CAAC;IACjD,MAAM,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;IAElE,IAAI,iBAAiB,EAAE,CAAC;QAEtB,IAAI,sBAAsB,GAAa,EAAE,CAAC;QAG1C,IAAI,QAAQ,EAAE,sBAAsB,EAAE,CAAC;YACrC,sBAAsB,GAAG,QAAQ,CAAC,mBAAmB,EAAE;gBACrD,GAAG,EAAE,iBAAiB;gBACtB,eAAe,EAAE,KAAK;gBACtB,MAAM,EAAE,CAAC,oBAAoB,CAAC;aAC/B,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,KAAK,iBAAiB,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9D,CAAC;QAGD,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,EAAE,GAAG,sBAAsB,CAAC,CAAC;IAChE,CAAC;IAED,GAAG,CAAC,KAAK,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;IAC9C,OAAO,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;AACzC,CAAC;AAMD,MAAM,UAAU,oBAAoB,CAAC,OAAe;IAClD,MAAM,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,qBAAqB,CAAC,CAAC;IACvE,MAAM,gBAAgB,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,GAAG,OAAO,sBAAsB,CAAC,CAAC,CAAC;IAGrF,MAAM,eAAe,GAAG,YAAY,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IAGlE,MAAM,cAAc,GAAG,KAAK,CAAC,gBAAgB,CAAC,CAAC;IAC/C,MAAM,aAAa,GAAG,KAAK,CAAC,eAAe,CAAC,CAAC;IAG7C,MAAM,mBAAmB,GAAa,EAAE,CAAC;IACzC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACjD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;YAC/F,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,MAAM,UAAU,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,GAAG,OAAO,QAAQ,EAAE,IAAI,EAAE,qBAAqB,CAAC,CAAC,CAAC;IAC9F,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACzC,MAAM,2BAA2B,GAAa,EAAE,CAAC;IACjD,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QACzB,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;YACxD,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YACpD,2BAA2B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;aAAM,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;YACzD,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YACnD,2BAA2B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,mBAAmB,CAAC;AAC7B,CAAC"}
\ No newline at end of file
diff --git a/dist/utils/describe-ref.js b/dist/utils/describe-ref.js
index 27f6ffbc32bbe9602d53df9abe0a1bf043aed1de..c355f3647317ef489081ac0dc1a0dc42b7fb1405 100644
--- a/dist/utils/describe-ref.js
+++ b/dist/utils/describe-ref.js
@@ -20,8 +20,8 @@ function describeRef(options = {}, includeMergedTags, dryRun = false) {
     const promise = exec('git', getArgs(options, includeMergedTags), options, dryRun);
     return promise.then(({ stdout } = { stdout: '' }) => {
         const result = parse(stdout, options.cwd, options.separator);
-        if (options?.match) {
-            log.verbose('git-describe', '%j => %j', options?.match, stdout);
+        if (options.match) {
+            log.verbose('git-describe', '%j => %j', options.match, stdout);
         }
         if (stdout) {
             log.silly('git-describe', 'parsed => %j', result);
@@ -32,8 +32,8 @@ function describeRef(options = {}, includeMergedTags, dryRun = false) {
 function describeRefSync(options = {}, includeMergedTags, dryRun = false) {
     const stdout = execSync('git', getArgs(options, includeMergedTags), options, dryRun);
     const result = parse(stdout, options.cwd, options.separator);
-    if (options?.match) {
-        log.verbose('git-describe.sync', '%j => %j', options?.match, stdout);
+    if (options.match) {
+        log.verbose('git-describe.sync', '%j => %j', options.match, stdout);
     }
     if (stdout) {
         log.silly('git-describe', 'parsed => %j', result);
diff --git a/dist/utils/describe-ref.js.map b/dist/utils/describe-ref.js.map
index 263aec3b879cbb49f0a60e01ed968268ef86df6b..6ab0f6e73dec0a557bbcdba91f5161040b1b9588 100644
--- a/dist/utils/describe-ref.js.map
+++ b/dist/utils/describe-ref.js.map
@@ -1 +1 @@
-{"version":3,"file":"describe-ref.js","sourceRoot":"","sources":["../../src/utils/describe-ref.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"describe-ref.js","sourceRoot":"","sources":["../../src/utils/describe-ref.ts"],"names":[],"mappings":"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"}
